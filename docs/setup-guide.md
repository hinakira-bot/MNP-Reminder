# MNP実践トラッカー Bot 導入ガイド

## このBotでできること

コミュニティメンバーのMNP副業の「学習」と「実践」を記録・可視化し、
一定期間実践していないメンバーに自動でリマインドを送ります。

### 主な機能
- 📖 **学習完了ボタン** … コンテンツを学んだら押す
- 🎯 **実践完了ボタン** … 店舗でMNP契約をしたら押す
- 🎉 **実践報告** … 実践した人を自動で全体に共有
- 📢 **自動リマインド** … 7日以上実践していない人に通知
- 🏆 **ランキング** … 実践回数のランキングを表示

---

## 導入手順（サーバー管理者向け）

### ステップ1：Botをサーバーに招待

以下のURLをブラウザで開いてください。

```
https://discord.com/oauth2/authorize?client_id=1476408639043539044&permissions=2147485696&scope=bot+applications.commands
```

→ サーバーを選択 →「認証」を押す

### ステップ2：チャンネルを3つ用意

| チャンネル | 用途 |
|-----------|------|
| #実践ボタン | ボタンを設置する場所（メンバーがここでボタンを押す） |
| #実践報告 | 「○○さんが実践しました！」が自動投稿される場所 |
| #リマインド | 未実践メンバーへの通知が届く場所 |

※ チャンネル名は自由です。既存のチャンネルを使ってもOKです。

### ステップ3：Botの初期設定（3つのコマンドを実行）

**① ボタンを設置する**
`#実践ボタン` チャンネルで以下を入力：
```
/setup
```
→ 「学習完了」「実践完了！」のボタンが設置されます。

**② 実践報告チャンネルを設定する**
任意のチャンネルで以下を入力：
```
/set-report-channel #実践報告
```
→ 実践完了の公開メッセージがこのチャンネルに届きます。

**③ リマインドチャンネルを設定する**
任意のチャンネルで以下を入力：
```
/set-reminder-channel #リマインド
```
→ 未実践メンバーへの通知がこのチャンネルに届きます。

**以上で設定完了です！**

---

## メンバー向けの使い方

ボタンを押すだけです。

1. コンテンツで学んだら → **「📖 学習完了」ボタン** を押す
2. 店舗でMNP契約したら → **「🎯 実践完了！」ボタン** を押す

- ボタンを押すと、本人だけに確認メッセージが表示されます（他の人には見えません）
- 実践完了を押すと、#実践報告 チャンネルに「🎉 ○○さんが実践しました！」と共有されます

---

## 管理者向け：その他のコマンド

| コマンド | 説明 |
|---------|------|
| `/stats` | 実践ランキングを表示（全メンバーに公開） |
| `/stats @メンバー名` | 特定メンバーの統計を確認 |
| `/check-inactive` | 今すぐ未実践メンバーをチェックしてリマインド送信 |
| `/set-reminder-days 日数` | リマインドの閾値を変更（デフォルト：7日） |
| `/set-reminder-time 09:00` | 自動チェックの時刻を変更（デフォルト：毎朝9時） |
| `/register @メンバー名` | メンバーを手動で追跡対象に追加 |
| `/unregister @メンバー名` | メンバーを追跡対象から外す |

※ `/stats` 以外の管理コマンドは **サーバー管理者のみ** 使用できます。
※ メンバーはボタンを初めて押した時点で自動的に追跡対象に登録されます。

---

## よくある質問

**Q. ボタンは何回でも押せますか？**
はい。ただし連打防止のため、1分以内の連続クリックは無視されます。

**Q. チャンネル名を後から変えても大丈夫？**
はい。Bot はチャンネルIDで管理しているため、名前を変えても影響ありません。

**Q. チャンネルを削除して作り直したら？**
その場合は再設定が必要です（`/set-report-channel` などを再実行）。

**Q. リマインドは毎日届きますか？**
はい。設定した時刻に毎日チェックが行われ、閾値を超えた未実践メンバーがいれば通知されます。

**Q. Bot がオフラインの間のデータは？**
Bot がオフラインの間はボタンが反応しません。Bot が復帰すればすぐに使えるようになります。
